# ============================================
# SERVER & NODE CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug
API_BASE_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3001

# ============================================
# DATABASE (PostgreSQL)
# ============================================
DATABASE_URL=postgresql://sourcenet_user:sourcenet_password@localhost:5432/sourcenet_db
DATABASE_POOL_SIZE=20
DATABASE_POOL_TIMEOUT=30000
DATABASE_SSL=false

# ============================================
# SUI BLOCKCHAIN CONFIGURATION
# ============================================
# RPC Endpoint
SUI_RPC_URL=https://fullnode.mainnet.sui.io
SUI_NETWORK=mainnet
# Options: mainnet, testnet, devnet

# Sui Package IDs (after deployment)
SUI_PACKAGE_ID=0x0000000000000000000000000000000000000000000000000000000000000000
SUI_ESCROW_MODULE_NAME=escrow
SUI_ESCROW_CONTRACT_ID=0x0000000000000000000000000000000000000000000000000000000000000000

# Sponsored Transaction Sponsor (Protocol's keypair)
SUI_SPONSOR_ADDRESS=0x0000000000000000000000000000000000000000000000000000000000000000
SUI_SPONSOR_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
SUI_SPONSOR_SECRET_KEY=your_sponsor_secret_key_base64

# Kiosk Config
SUI_KIOSK_PACKAGE_ID=0x434b5138df4f57cacb8617007e2e0bf5fad470d69d6b2a5b733f52cf6e7f6df8
SUI_KIOSK_LISTING_OBJECT_PACKAGE_ID=0x0000000000000000000000000000000000000000000000000000000000000000

# ============================================
# ZKLOGIN CONFIGURATION
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Steam OAuth (optional)
STEAM_API_KEY=your_steam_api_key
STEAM_RETURN_URL=http://localhost:3000/auth/steam/callback

# ZKLogin Salt (for key derivation)
ZKLOGIN_SALT=your_random_salt_64_characters_long_hex_string_here

# ============================================
# WALRUS CONFIGURATION (Decentralized Storage)
# ============================================
WALRUS_RPC_URL=https://walrus-testnet.sui.io
WALRUS_AGG_URL=https://walrus-agg.testnet.sui.io
WALRUS_NETWORK=testnet
# Options: mainnet, testnet

# Walrus storage encoding parameters
WALRUS_ENCODING_TYPE=reed_solomon
WALRUS_ERASURE_CODE_K=4
WALRUS_ERASURE_CODE_N=6

# ============================================
# ENCRYPTION CONFIGURATION
# ============================================
# Master encryption key for encrypting stored private keys
ENCRYPTION_MASTER_KEY=your_64_character_hex_string_for_encrypting_private_keys
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_NONCE_LENGTH=12
ENCRYPTION_TAG_LENGTH=16

# Elliptic Curve for secp256k1
CRYPTO_CURVE=secp256k1
CRYPTO_KEY_LENGTH=32

# Hash algorithm
HASH_ALGORITHM=sha256

# ============================================
# REDIS CONFIGURATION (Caching & Job Queue)
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600
REDIS_CACHE_PREFIX=sourcenet:

# ============================================
# JOB QUEUE CONFIGURATION (BullMQ)
# ============================================
BULL_QUEUE_NAME=sourcenet-jobs
BULL_CONCURRENCY=5
BULL_MAX_ATTEMPTS=3
BULL_BACKOFF_DELAY=5000

# Re-encryption job timeout (in milliseconds)
JOB_REENCRYPTION_TIMEOUT=300000
JOB_WALRUS_UPLOAD_TIMEOUT=180000
JOB_CLEANUP_TIMEOUT=60000

# ============================================
# AWS S3 CONFIGURATION (Temporary Storage)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BUCKET_NAME=sourcenet-temp-storage
S3_BUCKET_PREFIX=encrypted-blobs/
S3_EXPIRATION_DAYS=7

# ============================================
# AUTHENTICATION & JWT
# ============================================
JWT_SECRET=your_super_secret_jwt_key_at_least_32_characters_long
JWT_EXPIRATION=24h
JWT_REFRESH_SECRET=your_refresh_token_secret_32_chars_minimum
JWT_REFRESH_EXPIRATION=7d

# Allowed ZKLogin issuers
ZKLOGIN_ALLOWED_ISSUERS=https://accounts.google.com,https://openid.steampowered.com

# ============================================
# API SECURITY
# ============================================
# CORS Configuration
CORS_ORIGIN=http://localhost:3001,https://yourdomain.com
CORS_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# API Keys (for webhook verification, etc.)
API_KEY_HEADER_NAME=x-api-key
WEBHOOK_SECRET=your_webhook_secret_key

# ============================================
# LOGGING & MONITORING
# ============================================
# Sentry (Error tracking)
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Pino Logger
PINO_LOG_LEVEL=debug
PINO_TRANSPORT=pino-pretty

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
MAX_FILE_SIZE=104857600
# 100MB in bytes (100 * 1024 * 1024)

MAX_FILES_PER_UPLOAD=5
ALLOWED_FILE_TYPES=.json,.csv,.xlsx,.txt,.pdf

# Temporary file storage
TEMP_FILE_PATH=./tmp/uploads

# ============================================
# BLOCKCHAIN NETWORK CONFIGURATION
# ============================================
# Gas budget for transactions
SUI_GAS_BUDGET=1000000

# Escrow contract parameters
ESCROW_LOCK_DURATION=86400
# 24 hours in seconds

# Minimum purchase amount (in SUI)
MIN_PURCHASE_AMOUNT=0.1

# Maximum purchase amount (in SUI)
MAX_PURCHASE_AMOUNT=1000

# ============================================
# MARKETPLACE CONFIGURATION
# ============================================
# Platform fee (in basis points, 100 = 1%)
PLATFORM_FEE_BPS=250
# 2.5% platform fee

# Seller payout percentage (100 - fee)
SELLER_PAYOUT_PERCENTAGE=97.5

# Data categories
MARKETPLACE_CATEGORIES=browsing_history,gaming_data,social_media,fitness_data,location_history,purchase_history

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_EXCLUSIVE_SALES=true
FEATURE_BUNDLE_SALES=false
FEATURE_AUCTION_MODE=false
FEATURE_SUBSCRIPTION_DATA=false

# ============================================
# DATA RETENTION POLICIES
# ============================================
# How long to keep fulfilled purchase records (in days)
PURCHASE_RECORD_RETENTION_DAYS=365

# How long to keep failed transactions (in days)
FAILED_TX_RETENTION_DAYS=90

# How long to keep audit logs (in days)
AUDIT_LOG_RETENTION_DAYS=730

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@sourcenet.io
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_NAME=SourceNet

# Email templates
EMAIL_VERIFICATION_TEMPLATE=verification
EMAIL_PURCHASE_CONFIRMATION_TEMPLATE=purchase_confirmation
EMAIL_PAYMENT_RECEIVED_TEMPLATE=payment_received

# ============================================
# ANALYTICS & REPORTING
# ============================================
# Google Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X

# PostHog (Product Analytics)
POSTHOG_API_KEY=phc_xxxxx
POSTHOG_API_URL=https://api.posthog.com

# ============================================
# WEBHOOK CONFIGURATION
# ============================================
# For blockchain events
WEBHOOK_BLOCK_EXPLORER_URL=https://explorer.sui.io

# Sui RPC webhook subscription
SUI_WEBSOCKET_URL=wss://fullnode.mainnet.sui.io:443

# ============================================
# DEVELOPMENT/TESTING
# ============================================
# Use mock Walrus (for testing without actual Walrus)
USE_MOCK_WALRUS=false

# Use mock blockchain (for local testing)
USE_MOCK_BLOCKCHAIN=false

# Seed test data
SEED_TEST_DATA=false
SEED_DATA_COUNT=10

# ============================================
# BACKUP & DISASTER RECOVERY
# ============================================
# Backup database URL (for replication)
DATABASE_BACKUP_URL=postgresql://backup_user:backup_password@backup-db.example.com:5432/sourcenet_backup

# Enable automated backups
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_SCHEDULE=0 2 * * *
# 2 AM daily

# ============================================
# ADVANCED SECURITY
# ============================================
# Enable IP whitelisting
IP_WHITELIST_ENABLED=false
IP_WHITELIST=127.0.0.1,192.168.1.1

# Enable request signing
REQUEST_SIGNING_ENABLED=false
REQUEST_SIGNATURE_ALGORITHM=sha256

# Content Security Policy
CSP_ENABLED=true
CSP_DIRECTIVES="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# ============================================
# PERFORMANCE TUNING
# ============================================
# Database connection pooling
DB_IDLE_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000

# Cache invalidation strategy
CACHE_STRATEGY=ttl
CACHE_TTL_SECONDS=3600

# Pagination defaults
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ============================================
# MAINTENANCE MODE
# ============================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."